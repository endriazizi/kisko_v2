/* =========================
   VARIABILI REGOLABILI
   ========================= */
:root{
  --pbc-footer-h: 64px;     /* altezza footer */
  --cta-video-lift: 2px;    /* ↓ più piccolo = bottoni più vicini al footer */
  --cta-gap: 14px;          /* spazio tra Audio ON e INIZIA ORA */
  --radius-lg: 16px;
  --shadow-md: 0 10px 30px rgba(0,0,0,.18);
}

/* =========================
   RESET IONIC / VIEWPORT
   ========================= */
html, body, ion-app, ion-content{ height:100%; }
.kiosk{ --overflow:hidden; }
.kiosk::part(scroll){ overflow:hidden; }   /* niente scroll verticale */

/* Toolbar con logo centrato */
.toolbar-logo {
  --background: #fff;
  --border-color: transparent;
}
.toolbar-logo .toolbar-center{
  position:absolute; inset:0; display:grid; place-items:center; pointer-events:none;
}
.toolbar-logo .toolbar-center img{
  height:40px; width:auto; object-fit:contain; pointer-events:none;
}

/* =========================
   BLOCCO INFO (orario/meteo)
   ========================= */
.info-kiosk{
  background:#f6f7f8;
  color:#222;
  font-weight:600;
  border-radius:var(--radius-lg);
  margin:10px 12px;
  padding:14px 12px;
  box-shadow: var(--shadow-md);
  text-align:center;
}
.info-kiosk .clock{ font-size:1.9rem; font-weight:800; margin-bottom:6px; }
.info-kiosk .date{  font-size:1.15rem; margin-bottom:6px; }
.info-kiosk .weather{ font-size:1rem; font-style:italic; }

/* =========================
   VIEWPORT E SLIDES
   ========================= */
.viewport{
  height:100%;
  display:grid;
  grid-template-rows:auto 1fr;    /* info | slides */
}

/* container con swipe orizzontale */
.slide-container{
  height:100%;
  display:grid;
  grid-auto-flow:column;
  grid-auto-columns:100%;
  overflow-x:auto; overflow-y:hidden;
  scroll-snap-type:x mandatory;
  -webkit-overflow-scrolling:touch;
  touch-action:pan-x;
}
.slide{
  position:relative; height:100%;
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  scroll-snap-align:center; scroll-snap-stop:always;
  padding:8px 12px; gap:12px; text-align:center;
}

/* =========================
   SLIDE 1: CAROSELLO A3
   ========================= */
.slide-ads{ gap:12px; }

/* wrapper card */
.ads-carousel{
  position:relative;
  width:min(96%, 1024px);
  height:min(74vh, 820px);
  margin:0 auto;
  border-radius:var(--radius-lg);
  box-shadow: var(--shadow-md);
  background:#fff;
  display:flex; flex-direction:column; justify-content:center; align-items:center;
  overflow:hidden;
}

/* track orizzontale */
.ads-track{
  width:100%; height:100%;
  display:grid; grid-auto-flow:column; grid-auto-columns:100%;
  overflow-x:auto; overflow-y:hidden;
  scroll-snap-type:x mandatory;
}
.ads-item{
  width:100%; height:100%;
  display:grid; place-items:center;
  scroll-snap-align:center;
}
.ads-item img{
  width:100%; height:100%; object-fit:contain; user-select:none; -webkit-user-drag:none;
}

/* dots */
.ads-dots{
  position:absolute; left:50%; transform:translateX(-50%);
  bottom:12px; display:flex; gap:8px;
}
.ads-dots .dot{
  width:9px; height:9px; border-radius:999px;
  background:rgba(0,0,0,.25); outline:1px solid rgba(255,255,255,.6);
}
.ads-dots .dot.active{ background:#fff; }

/* =========================
   SLIDE 2: CARD + TESTO
   ========================= */
.slide-info{ justify-content:flex-start; padding-top:8px; gap:10px; }
.info-card{
  width:min(96%, 1024px);
  margin:0 auto;
  background:#fff;
  border-radius:var(--radius-lg);
  box-shadow: var(--shadow-md);
  padding:18px 16px 20px;
}
.slide-image{
  max-width:70%; max-height:22vh;
  margin:8px auto 0; pointer-events:none;
}
.slide-title{ margin:14px 0 8px; font-weight:800; }
.slide-title.tight{ margin-top:8px; }

.slide-text{
  padding:0 18px; margin-top:6px;
  color:#4d525a; font-size:15px; line-height:1.6;
  text-align:justify; text-justify:auto; hyphens:auto;
}
.slide-text b{ color:#111; }

/* loghi enti */
.partners-logos{ display:grid; place-items:center; margin-top:12px; }
.partners-logos img{ width:min(92%, 900px); height:auto; }

/* CTA opzionale slide 2 */
.slide2-cta{ margin-top:12px; --border-radius:16px; padding-inline:22px; }

/* =========================
   SLIDE 3: VIDEO + CTA
   ========================= */
.slide-video{ overflow:hidden; display:grid; place-items:center; }

.hero-video{
  position:relative; width:100%; height:100%;
  max-width:100%; max-height:100%;
  object-fit:contain; object-position:center; background:#000; z-index:0;
}

/* hamburger */
.video-chrome{
  position:absolute; z-index:3;
  top:max(10px, env(safe-area-inset-top)); left:10px;
  filter:drop-shadow(0 2px 6px rgba(0,0,0,.4));
}

/* CTA in basso alla SLIDE (sopra footer) */
.video-cta{
  position:absolute; z-index:3;
  left:50%;
  bottom:calc(var(--pbc-footer-h) + max(8px, env(safe-area-inset-bottom)) + var(--cta-video-lift));
  transform:translateX(-50%);
  display:flex; flex-direction:column; gap:var(--cta-gap);
  text-shadow:0 2px 8px rgba(0,0,0,.45);
}
.video-cta .cta{ --border-radius:16px; padding-inline:22px; }

/* nascondi UI quando la slide non è attiva (se usi [class.active]) */
.slide-video:not(.active) .hero-video,
.slide-video:not(.active) .video-cta,
.slide-video:not(.active) .video-chrome{ display:none; }

/* =========================
   MODAL IMMAGINE FULL-SCREEN
   ========================= */
.image-modal::part(content){
  --height:100%; --width:100%; --border-radius:0; background:#000;
}
.image-modal .image-modal-wrapper{
  width:100vw; height:100vh; display:grid; place-items:center; background:#000;
}
.image-modal img{ width:100%; height:100%; object-fit:contain; }

/* =========================
   FOOTER CON DUE LOGHI
   ========================= */
.pbc-footer{
  --background:#fff;
  --border-color:transparent;
  min-height:var(--pbc-footer-h);
  z-index:1000;
}
.pbc-footer .pbc-wrap{
  width:100%;
  display:flex; justify-content:center; align-items:center;
  gap:18px;                       /* spazio tra i due loghi */
  padding:8px 0;
}
.pbc-footer .brand-logo{
  height:34px; width:auto; opacity:.98;
  filter:drop-shadow(0 3px 10px rgba(0,0,0,.18));
}

/* =========================
   SCHERMI BASSI
   ========================= */
@media (max-height:640px){
  :root{ --cta-video-lift:2px; }
  .slide-image{ max-height:18vh; }
  .slide-text{ padding:0 14px; }
}

/* =========================
   DESKTOP 1920×1080 (16:9)
   ========================= */
@media (width:1920px) and (height:1080px){
  :root{
    --pbc-footer-h: 72px;
    --cta-video-lift: 2px;
    --cta-gap: 12px;
  }
  .info-kiosk{
    margin:14px 18px; padding:16px 14px;
    .clock{ font-size:2.2rem; }
    .date{  font-size:1.2rem;  }
    .weather{ font-size:1.05rem; }
  }
  .ads-carousel{ height:76vh; }
  .slide-image{ max-height:24vh; }
  .pbc-footer .brand-logo{ height:38px; }
}

/* fallback desktop larghi (≥1400px) */
@media (min-width:1400px) and (min-height:900px){
  .ads-carousel{ height:75vh; }
}
