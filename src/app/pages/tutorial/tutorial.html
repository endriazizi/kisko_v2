<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-button color="primary" (click)="startApp()" [hidden]="!showSkip">
        Skip
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <!-- Barra superiore info (invariata) -->
  <div class="info-kiosk">
    <div class="clock">🕒 {{ currentTime }}</div>
    <div class="date">📅 {{ currentDate }}</div>
    <div class="weather" *ngIf="weather">
      🌤️ {{ weather.name }} - {{ weather.weather[0].description }} ({{ weather.main.temp }}°C)
    </div>
  </div>

  <div class="slide-container">
    <!-- SLIDE 1: invariata -->
    <section class="slide">
      <img src="assets/img/ica-slidebox-img-1.png" class="slide-image" />
      <h2 class="slide-title">
        Welcome to <b>CASTELRAIMONDO</b>
      </h2>
      <p>
        Centro commerciale Naturale "<b>Il Cassero 2.0</b>" è il progetto di
        riqualificazione e valorizzazione territoriale realizzato da un' aggregazione di 10 imprese locali che, con una comunione di intenti, hanno dato vita ad una serie di interventi volti al potenziamento del decoro delle proprie attività e ad un intervento condiviso, che si è tradotto in un totem multimediale per la promozione delle imprese e del territorio di Castelraimondo. Un progetto che premia la sinergia e il fare sistema.
      </p>
    </section>

    <!-- SLIDE 2: video full-screen + hamburger + CTA bassa -->
    <section #videoSection class="slide slide-video" [class.active]="isVideoActive">
      <!-- Video fissato al viewport: visibile solo quando la slide è attiva -->
      <video
        #slideVideo
        class="hero-video"
        autoplay
        [muted]="muted"
        playsinline
        [attr.webkit-playsinline]="true"
        poster="assets/img/poster.jpg">
        <source src="assets/video/polveredistelle.mp4" type="video/mp4" />
      </video>

      <!-- Chrome superiore: hamburger per side menu -->
      <div class="video-chrome">
        <ion-button fill="clear" size="large" (click)="toggleMenu()" aria-label="Apri menu">
          <ion-icon [ios]="'menu-outline'" [md]="'menu-outline'"></ion-icon>
        </ion-button>
      </div>

      <!-- CTA in basso -->
      <div class="video-cta">
        <ion-button size="large" (click)="unmuteAndPlay()" *ngIf="showUnmuteBtn">
          🔊 Audio ON
        </ion-button>

        <ion-button
          class="cta"
          size="large"
          color="primary"
          routerLink="/app/tabs/schedule"
          routerDirection="root">
          INIZIA ORA
        </ion-button>
      </div>
    </section>
  </div>
</ion-content>
